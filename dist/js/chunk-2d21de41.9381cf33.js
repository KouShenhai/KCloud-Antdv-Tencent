(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21de41"],{d2da:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("page-header-wrapper",[a("a-card",{attrs:{bordered:!1}},[a("div",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sys:message:query"],expression:"['sys:message:query']"}],staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"标题"}},[a("a-input",{attrs:{placeholder:"请输入","allow-clear":""},model:{value:e.queryParam.title,callback:function(t){e.$set(e.queryParam,"title",t)},expression:"queryParam.title"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"创建者"}},[a("a-input",{attrs:{placeholder:"请输入","allow-clear":""},model:{value:e.queryParam.username,callback:function(t){e.$set(e.queryParam,"username",t)},expression:"queryParam.username"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons"},[a("a-button",{attrs:{type:"primary"},on:{click:e.handleQuery}},[a("a-icon",{attrs:{type:"search"}}),e._v("查询")],1),a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.resetQuery}},[a("a-icon",{attrs:{type:"redo"}}),e._v("重置")],1)],1)])],1)],1)],1),a("div",{staticClass:"table-operations"},[a("a-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sys:message:insert"],expression:"['sys:message:insert']"}],attrs:{type:"primary"},on:{click:function(t){return e.handleAdd()}}},[a("a-icon",{attrs:{type:"plus"}}),e._v("新增 ")],1),a("table-setting",{style:{float:"right"},attrs:{"table-size":e.tableSize,"refresh-loading":e.loading},on:{"update:tableSize":function(t){e.tableSize=t},"update:table-size":function(t){e.tableSize=t},refresh:e.getList},model:{value:e.columns,callback:function(t){e.columns=t},expression:"columns"}})],1),a("a-table",{attrs:{loading:e.loading,size:e.tableSize,rowKey:"id",columns:e.columns,"data-source":e.list,pagination:!1,bordered:e.tableBordered},scopedSlots:e._u([{key:"type",fn:function(t,s){return a("span",{},[e._v(" "+e._s(e.typeFormat(s))+" ")])}},{key:"operation",fn:function(t,s){return a("span",{},[a("a",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sys:message:insert"],expression:"['sys:message:insert']"}],on:{click:function(t){return e.handleAdd()}}},[a("a-icon",{attrs:{type:"plus"}}),e._v(" 新增 ")],1),a("a-divider",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sys:message:detail"],expression:"['sys:message:detail']"}],attrs:{type:"vertical"}}),a("a",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sys:message:detail"],expression:"['sys:message:detail']"}],on:{click:function(t){return e.getMessage(s)}}},[a("a-icon",{attrs:{type:"eye"}}),e._v(" 查看 ")],1)],1)}}])}),a("a-pagination",{staticClass:"ant-table-pagination",attrs:{"show-size-changer":"","show-quick-jumper":"",current:e.queryParam.pageNum,total:e.total,"page-size":e.queryParam.pageSize,showTotal:function(e){return"共 "+e+" 条"}},on:{showSizeChange:e.onShowSizeChange,change:e.changeSize}})],1),a("a-modal",{ref:"noticeDetail",attrs:{width:900,visible:e.visible,footer:null},on:{cancel:e.close}},[a("template",{slot:"title"},[a("center",[a("a-tag",{attrs:{color:"blue"}},[e._v("平台")]),e._v(e._s(e.form.title))],1)],1),a("mavon-editor",{staticClass:"md",attrs:{value:e.form.content,ishljs:!0,subfield:e.prop.subfield,defaultOpen:e.prop.defaultOpen,toolbarsFlag:e.prop.toolbarsFlag,editable:e.prop.editable,scrollStyle:e.prop.scrollStyle}})],2)],1)},i=[],r=a("4f7e"),n=a("435a"),o={name:"Notice",components:{},mixins:[n["a"]],data:function(){return{visible:!1,list:[],loading:!1,total:0,statusOptions:[],typeOptions:[],form:{title:"",content:""},queryParam:{pageNum:1,pageSize:10,title:void 0,username:void 0},columns:[{title:"标题",dataIndex:"title",ellipsis:!0,align:"center"},{title:"类型",dataIndex:"type",scopedSlots:{customRender:"type"},align:"center"},{title:"创建者",dataIndex:"username",ellipsis:!0,align:"center"},{title:"创建时间",dataIndex:"createDate",align:"center"},{title:"操作",dataIndex:"operation",width:"15%",scopedSlots:{customRender:"operation"},align:"center"}]}},filters:{},created:function(){this.getList()},computed:{prop:function(){return{subfield:!1,defaultOpen:"preview",editable:!1,toolbarsFlag:!1,scrollStyle:!0}}},watch:{},methods:{getMessage:function(e){var t=this;Object(r["b"])(e.id).then((function(e){t.form.content=e.data.content,t.form.title=e.data.title,t.visible=!0}))},close:function(){this.visible=!1,this.form.title="",this.form.content=""},getList:function(){var e=this;this.loading=!0,Object(r["c"])(this.queryParam).then((function(t){e.list=t.data.records,e.total=t.data.total-0,e.loading=!1}))},typeFormat:function(e){return 1==e.type?"提醒":"通知"},handleQuery:function(){this.queryParam.pageNum=1,this.getList()},resetQuery:function(){this.queryParam={pageNum:1,pageSize:10,title:void 0,username:void 0},this.handleQuery()},onShowSizeChange:function(e,t){this.queryParam.pageSize=t,this.getList()},changeSize:function(e,t){this.queryParam.pageNum=e,this.queryParam.pageSize=t,this.getList()},handleAdd:function(){this.$router.push({name:"NoticeForm",params:{id:void 0,formTitle:"新增消息"}})}}},l=o,c=a("2877"),u=Object(c["a"])(l,s,i,!1,null,null,null);t["default"]=u.exports}}]);